<!DOCTYPE html>
<html>
<head>
  <meta charset='UTF-8'>
  <title>Code Review Report</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
    .container { max-width: 1200px; margin: 0 auto; background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
    h1 { color: #333; border-bottom: 3px solid #4CAF50; padding-bottom: 10px; }
    h2 { color: #555; margin-top: 30px; }
    h3 { color: #666; }
    .severity-critical { background: #ffebee; border-left: 4px solid #f44336; padding: 15px; margin: 10px 0; }
    .severity-high { background: #fff3e0; border-left: 4px solid #ff9800; padding: 15px; margin: 10px 0; }
    .severity-medium { background: #e3f2fd; border-left: 4px solid #2196F3; padding: 15px; margin: 10px 0; }
    .severity-low { background: #e8f5e9; border-left: 4px solid #4CAF50; padding: 15px; margin: 10px 0; }
    .badge { display: inline-block; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: bold; }
    .badge-critical { background: #f44336; color: white; }
    .badge-high { background: #ff9800; color: white; }
    .badge-medium { background: #2196F3; color: white; }
    .badge-low { background: #4CAF50; color: white; }
    .info-box { background: #f9f9f9; padding: 15px; border-radius: 4px; margin: 15px 0; }
    .positive { background: #e8f5e9; border-left: 4px solid #4CAF50; padding: 15px; margin: 10px 0; }
    code { background: #f5f5f5; padding: 2px 6px; border-radius: 3px; font-family: 'Courier New', monospace; }
    pre { background: #f5f5f5; padding: 15px; border-radius: 4px; overflow-x: auto; }
  </style>
</head>
<body>
  <div class='container'>
    <h1>üìã Code Review Report</h1>
    <div class='info-box'>
      <h2>Pull Request Information</h2>
      <p><strong>Title:</strong> Add user authentication</p>
      <p><strong>URL:</strong> <a href='https://github.com/myorg/myapp/pull/123'>https://github.com/myorg/myapp/pull/123</a></p>
      <p><strong>Author:</strong> developer</p>
      <p><strong>Branch:</strong> <code>feature/auth</code> ‚Üí <code>main</code></p>
    </div>
    <div class='info-box'>
      <h2>Summary</h2>
      <p><strong>Files Analyzed:</strong> 3</p>
      <p><strong>AI Assessment:</strong> Good implementation with some security concerns that need attention</p>
    </div>
    <h2>üîç Issues Found</h2>
    <h3><span class='badge badge-critical'>CRITICAL</span> (1 issue(s))</h3>
    <div class='severity-critical'>
      <h4>SQLI</h4>
      <p>SQL injection vulnerability detected in user query</p>
      <p><strong>Location:</strong> <code>auth/database.py:42</code></p>
    </div>
    <h3><span class='badge badge-high'>HIGH</span> (1 issue(s))</h3>
    <div class='severity-high'>
      <h4>HARDCODED_SECRET</h4>
      <p>Hardcoded JWT secret key found</p>
      <p><strong>Location:</strong> <code>config/settings.py:15</code></p>
    </div>
    <h3><span class='badge badge-medium'>MEDIUM</span> (1 issue(s))</h3>
    <div class='severity-medium'>
      <h4>COMPLEXITY</h4>
      <p>Function has high cyclomatic complexity (15)</p>
      <p><strong>Location:</strong> <code>auth/validators.py:100</code></p>
    </div>
    <h2>üí° Suggestions</h2>
    <div class='severity-critical'>
      <h4><span class='badge badge-critical'>CRITICAL</span> Use Parameterized Queries</h4>
      <p>Replace string concatenation with parameterized queries to prevent SQL injection</p>
      <p><strong>Location:</strong> <code>auth/database.py:42</code></p>
      <p><strong>Example:</strong></p>
      <pre><code># Bad
query = f&quot;SELECT * FROM users WHERE username = &#39;{username}&#39;&quot;

# Good
query = &quot;SELECT * FROM users WHERE username = ?&quot;
cursor.execute(query, (username,))</code></pre>
    </div>
    <div class='severity-high'>
      <h4><span class='badge badge-high'>HIGH</span> Use Environment Variables for Secrets</h4>
      <p>Store sensitive configuration in environment variables</p>
      <p><strong>Location:</strong> <code>config/settings.py:15</code></p>
      <p><strong>Example:</strong></p>
      <pre><code># Bad
JWT_SECRET = &quot;hardcoded-secret-key&quot;

# Good
import os
JWT_SECRET = os.environ.get(&quot;JWT_SECRET&quot;)</code></pre>
    </div>
    <h2>üîé Patterns Detected</h2>
    <div class='info-box'>
      <p><strong>Deeply nested control structures detected (4 levels)</strong></p>
      <p>Type: <code>complexity</code></p>
      <p>File: <code>auth/validators.py</code></p>
    </div>
    <h2>üß† Semantic Analysis</h2>
    <div class='info-box'>
      <p>The authentication implementation follows modern best practices with JWT tokens. However, critical security issues need immediate attention before deployment.</p>
      <p><strong>Confidence:</strong> 88.00%</p>
      <p><strong>Consensus Score:</strong> 94.00%</p>
    </div>
    <h2>‚ú® Positive Feedback</h2>
    <div class='positive'>
      <h4>‚úÖ Excellent Test Coverage</h4>
      <p>Comprehensive unit tests cover all authentication flows</p>
      <p><strong>Score:</strong> 95/100</p>
    </div>
    <div class='positive'>
      <h4>‚úÖ Good Documentation</h4>
      <p>Functions are well-documented with clear docstrings</p>
      <p><strong>Score:</strong> 90/100</p>
    </div>
  </div>
</body>
</html>